### FastAPI Rules

- **Versioning**: Prefix with `/api/v1/`. Breaking changes → bump version.
- **Routes**:
  - Health: `/api/v1/health` returns `{status, version}`.
  - Use nouns for resources (`/draws`), verbs only for actions.
  - Filtering via query params: `game_type`, `game_provider`, `date_from`, `date_to`, `limit`, `offset`.
- **Schemas**:
  - Pydantic models in `src/api/schemas.py` (or submodule per resource when it grows).
  - Set `from_attributes = True` for ORM serialization.
  - Validate input; return explicit response models where feasible.
- **Handlers**:
  - Keep lean; delegate to `services` and `repositories`.
  - Always bound DB work in `with SessionLocal()` context.
- **Errors**:
  - Use `HTTPException` with precise status codes. Don’t leak internals.
  - Sanitize messages; log details server-side.
- **CORS**:
  - Enabled for local dev origins only. Expand carefully.
- **Pagination**:
  - Default `limit=100`, support `offset`. Return `{items, total}`.
- **Consistency**:
  - Mirror filter params across endpoints (frequency, randomness tests).
- **Docs**:
  - Keep minimal docstrings; rely on OpenAPI generated by FastAPI.
