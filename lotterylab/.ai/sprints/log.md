# ğŸ““ Sprint Planning Log

Conventions: [UTC ISO date] (optional sprint-day) â€” entry

- 2025-09-06 (sprint000-d01) â€” Created `sprints/` structure, README, roadmap, backlog âœ…
- 2025-09-06 (sprint000-d01) â€” Added `_sprint_template.md` and Sprint 000/001 plans âœ…
- 2025-09-06 (sprint000-d01) â€” Noted API key pending; CSV-first strategy adopted ğŸš§
- 2025-09-06 (sprint000-d01) â€” Project skeleton created (requirements, folders, config) âœ…
- 2025-09-06 (sprint000-d01) â€” FastAPI health endpoint scaffolded âœ…
- 2025-09-06 (sprint000-d01) â€” SQLAlchemy models added; Alembic init, revision (autogenerate), and upgrade âœ…
- 2025-09-06 (sprint000-d01) â€” TXT importer built; auto-labeled Lotto vs Lotto Plus by date; 9271 rows loaded âœ…
- 2025-09-06 (sprint000-d01) â€” Added indexes on `draws(draw_date)` and `draws(game_type)` âœ…
- 2025-09-06 (sprint000-d01) â€” Frequency analysis service implemented and exposed at `/api/v1/analysis/frequency` âœ…

- 2025-09-08 (sprint000-d02) â€” Rebranded to "Lottery Lab" and generalized PRD for multi-lottery scope âœ…
- 2025-09-08 (sprint000-d02) â€” Added unit tests (parser, validator, frequency); 7 tests passing âœ…
- 2025-09-08 (sprint000-d02) â€” Implemented minimal logging baseline (UTC, rotating files) and instrumented importer/updater âœ…
- 2025-09-08 (sprint000-d02) â€” Sprint 000 closed âœ…

- 2025-09-08 â€” Decision: keep Python-first UI, plan FastAPI + Jinja2 + HTMX scaffold in Sprint 001 ğŸ§­
- 2025-09-08 â€” Implemented UI scaffold served at `/` with HTMX partial for frequency; added favicon âœ…
- 2025-09-08 â€” Added Plotly.js bar chart to frequency page with HTMX-driven updates âœ…
- 2025-09-08 â€” Added GET `/api/v1/draws` endpoint with filters and Pydantic response âœ…
- 2025-09-08 â€” Enabled CORS for local development âœ…
- 2025-09-08 â€” Applied Jinja UI styling (header/logo, cards, controls, grid) âœ…
- 2025-09-08 â€” Added Recent Draws table (latest 20) âœ…
- 2025-09-08 â€” Frequency now includes expected vs actual; expected line overlay in chart âœ…
- 2025-09-08 â€” Tests updated for expected/delta; 8 tests passing âœ…
- 2025-09-08 â€” Repository layer added for draws; API refactored; 10 tests passing âœ…
- 2025-09-08 â€” Ingestion service (batch/import + incremental) added; 11 tests passing âœ…
 
 - 2025-09-21 (sprint001-d??) â€” UI restyled to Google ML Crash Course-inspired layout (header with tabs, left sidebar, right info panel) âœ…
 - 2025-09-21 (sprint001-d??) â€” Partials aligned: removed inline styles; added `.meta` and `.chart` helpers âœ…
 - 2025-09-21 (sprint001-d??) â€” Light/dark token set added (`html[data-theme="dark"]`) ğŸŒ—âœ…
 - 2025-09-21 (sprint001-d??) â€” Generator diversified to avoid repeats; feedback weighting increased âœ…
 - 2025-09-21 (sprint001-d??) â€” Auto-update fetched 10 new rows; UI verified locally at :8001 âœ…

- 2025-09-21 (sprint001-d??) â€” Renamed top-level repo directory from `LottoLAB` to `LotteryLAB` âœ…
- 2025-09-22 â€” Removed Streamlit dependency; focusing exclusively on Jinja2+HTMX interface âœ…
- 2025-09-22 â€” Fixed duplicate content in all .mdc rule files; updated outdated references; added project-lottery-lab.mdc âœ…
- 2025-09-22 â€” Updated BACKLOG.md with current completion status and Sprint 002 priorities âœ…
- 2025-09-22 â€” Updated ROADMAP.md milestone statuses to reflect actual progress âœ…
- 2025-09-22 â€” Completed Sprint 001: added packaging (pyproject.toml, Makefile), comprehensive tests for API, repositories, and services âœ…
- 2025-09-22 â€” Sprint 001 MVP fully completed! ğŸ‰ Ready for Sprint 002 (randomness tests)
- 2025-09-22 â€” Sprint 002 started: Implemented chi-square goodness-of-fit test for lottery randomness analysis âœ…
- 2025-09-22 â€” Added `/api/v1/analysis/randomness` endpoint with comprehensive statistical results âœ…
- 2025-09-22 â€” Created test suite for randomness analysis functions (chi-square, entropy, coverage) âœ…
- 2025-09-22 â€” Integrated randomness analysis into UI: created HTMX partial, added to sidebar navigation, comprehensive statistical display âœ…
- 2025-09-22 â€” Implemented Kolmogorov-Smirnov test for distribution comparison with UI integration âœ…
- 2025-09-22 â€” Implemented runs test for sequence randomness with multiple test types (median, even/odd, high/low) and UI integration âœ…
- 2025-09-22 â€” Implemented autocorrelation analysis for temporal dependencies with lag-based significance testing and UI integration âœ…
- 2025-09-22 â€” Implemented comprehensive pattern detection algorithms (consecutive numbers, arithmetic sequences, digit patterns, sum analysis) âœ…
- 2025-09-22 â€” Added `/api/v1/analysis/patterns` endpoint with full pattern analysis suite âœ…
- 2025-09-22 â€” Created pattern analysis UI with detailed sequence displays and pattern indicators âœ…
- 2025-09-22 â€” Implemented correlation heatmap visualization for number relationships âœ…
- 2025-09-22 â€” Added `/api/v1/analysis/correlation` API endpoint and `/partials/correlation` HTMX partial âœ…
- 2025-09-22 â€” Created interactive correlation heatmap UI with statistical insights and top correlated pairs âœ…
- 2025-09-22 â€” Updated sprint documentation to mark correlation heatmap as completed âœ…

- 2025-12-04 â€” Fixed repository tests: changed dict access instead of ORM object attributes âœ…
- 2025-12-04 â€” Fixed chi-square test logic: corrected expected_frequency formula (total/categories instead of total*6/49) âœ…
- 2025-12-04 â€” Fixed ingestion tests: made tests idempotent and not dependent on database state âœ…
- 2025-12-04 â€” Fixed frequency partial test: corrected HTML content assertion âœ…
- 2025-12-04 â€” All 78 tests passing, coverage at 79% (close to target 80%) âœ…
- 2025-12-04 â€” Added `make update` command to Makefile for manual MBNet update âœ…
- 2025-12-04 â€” Implemented automatic update on server startup using FastAPI lifespan handler âœ…
- 2025-12-04 â€” Added internationalization (i18n) support with Polish and English languages âœ…
- 2025-12-04 â€” Created i18n utility module with translations dictionary âœ…
- 2025-12-04 â€” Added language switcher to header (PL/EN toggle) âœ…
- 2025-12-04 â€” Updated templates (index, frequency, recent_draws) to use translated texts âœ…
- 2025-12-04 â€” Added Makefile commands for i18n: extract, init, update, compile âœ…
- 2025-12-04 â€” Fixed game_type conflict in template context for randomness/patterns/correlation endpoints âœ…
- 2025-12-04 â€” Created comprehensive README.md for GitHub publication âœ…
- 2025-12-04 â€” Added MIT LICENSE file âœ…
- 2025-12-04 â€” Created .gitignore with Python/IDE/data exclusions âœ…

- 2025-12-07 â€” Implemented time series trend analysis with period controls (week/month/quarter) âœ…
- 2025-12-07 â€” Added streak analysis (hot/cold streaks, longest appearance/absence) âœ…
- 2025-12-07 â€” Created interactive Plotly charts for number frequency trends over time âœ…
- 2025-12-07 â€” Added `/api/v1/analysis/trends` and `/partials/trends` endpoints âœ…
- 2025-12-07 â€” Implemented PDF export with ReportLab (tables, styling, branding) âœ…
- 2025-12-07 â€” Implemented Excel export with OpenPyXL (multi-sheet workbooks) âœ…
- 2025-12-07 â€” Added `/api/v1/export/report` endpoint with format parameter âœ…
- 2025-12-07 â€” Added export buttons (PDF/Excel) to UI sidebar âœ…
- 2025-12-07 â€” Full i18n support for all new features (PL/EN) âœ…
- 2025-12-07 â€” Sprint 002 completed! ğŸ‰ All planned deliverables done

- 2025-12-10 â€” Fixed patterns_partial: added result.pop("window_days") to prevent template context conflict âœ…
- 2025-12-10 â€” Fixed correlation_partial: added result.pop("window_days") âœ…
- 2025-12-10 â€” Fixed trends_partial: added result.pop("period", "num_periods") âœ…
- 2025-12-10 â€” Fixed sidebar active state: JavaScript now toggles .active class on click âœ…
- 2025-12-10 â€” Removed duplicate "Testy hipotez" from sidebar (already in "Testy losowoÅ›ci") âœ…
- 2025-12-10 â€” Updated topics array in app.js to match sidebar items (6 topics) âœ…
- 2025-12-10 â€” Created ONBOARDING.md â€” comprehensive LLM onboarding guide âœ…
- 2025-12-10 â€” Updated ROADMAP.md, BACKLOG.md with current status âœ…
- 2025-12-10 â€” All UI components working: frequency, randomness, generator, patterns, correlation, trends âœ…

- 2025-12-11 â€” **Sprint 002.5 started: UI Redesign** ğŸ¨
- 2025-12-11 â€” Identified UX issues: no landing page, information overload, test data visible (999997/999998)
- 2025-12-11 â€” Created design mockup: `homepage-v2.html` â€” landing page "Gdzie szczÄ™Å›cie spotyka naukÄ™" âœ…
- 2025-12-11 â€” Created design mockup: `methodology-overview-v2.html` â€” overview of all statistical methods âœ…
- 2025-12-11 â€” Created design mockup: `methodology-v2.html` â€” detailed chi-square page with 3-column layout âœ…
- 2025-12-11 â€” Created design mockup: `homepage-v3-themes.html` â€” added Dark/Light theme toggle âœ…
- 2025-12-11 â€” Created UI Redesign Specification: `.ai/ui-redesign-spec.md` âœ…
- 2025-12-11 â€” Added Epic E8: UI/UX Redesign & Multi-lottery âœ…
- 2025-12-11 â€” Updated ROADMAP.md v2 with Sprint 002.5 âœ…
- 2025-12-11 â€” Updated BACKLOG.md with UI redesign tasks (#26-35) âœ…
- 2025-12-11 â€” Created Sprint 002.5 plan: `sprint002.5/plan.md` âœ…
- 2025-12-11 â€” Moved old designs to `.design/old/` folder for reference âœ…

- 2025-12-12 â†’ 2025-12-20 â€” **Sprint 002.5 Implementation** (undocumented until audit)
- âœ… Created `static/css/design-system.css` â€” 430+ lines of design tokens (colors, typography, spacing, shadows)
- âœ… Created `static/css/components.css` â€” 842+ lines of reusable components (buttons, cards, forms, nav, lottery balls)
- âœ… Created `static/css/home.css` â€” Homepage-specific styles
- âœ… Created `static/css/methodology.css` â€” Methodology overview styles
- âœ… Created `static/css/methodology-detail.css` â€” Methodology detail page styles
- âœ… Created `static/js/theme-toggle.js` â€” 127 lines (dark/light toggle, localStorage, system preference)
- âœ… Created `templates/home.html` â€” 283 lines (hero, features grid, how-it-works, footer)
- âœ… Created `templates/methodology.html` â€” 365 lines (overview, hypothesis box, 6 method cards, workflow, lottery grid)
- âœ… Created `templates/methodology/chi-square.html` â€” 469 lines (3-column layout, interactive demo, code examples)
- âœ… Created `templates/methodology/kolmogorov-smirnov.html` â€” Full detail page
- âœ… Created `templates/methodology/runs-test.html` â€” Full detail page
- âœ… Created `templates/methodology/autocorrelation.html` â€” Full detail page
- âœ… Created `templates/methodology/entropy.html` â€” Full detail page
- âœ… Added routes: `/` (homepage), `/app` (analyzer), `/methodology`, `/methodology/{method}`
- âœ… Expanded `i18n.py` with translations for all new pages
- âŒ `templates/methodology/monte-carlo.html` â€” NOT CREATED (oversight)

- 2025-01-06 â€” **Documentation Audit** ğŸ“
- âœ… Discovered Sprint 002.5 is ~90% complete but documentation was outdated
- âœ… Updated `sprint002.5/plan.md` â€” marked completed tasks, identified remaining work
- âœ… Updated `BACKLOG.md` â€” reflected actual completion status
- âœ… Updated `ROADMAP.md` â€” updated milestone progress
- âœ… Updated `log.md` â€” added missing implementation entries
- ğŸ“‹ Identified remaining work: monte-carlo.html, test data cleanup, URL-based i18n