<!doctype html>
<html lang="{{ lang }}" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ i18n.methodology }} â€” {{ i18n.site_title }}</title>
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" href="/static/css/design-system.css?v=2" />
    <link rel="stylesheet" href="/static/css/components.css?v=2" />
    <link rel="stylesheet" href="/static/css/home.css?v=2" />
    <link rel="stylesheet" href="/static/css/methodology.css?v=2" />
    <!-- Theme toggle (load early to prevent flash) -->
    <script src="/static/js/theme-toggle.js?v=1"></script>
  </head>
  <body>
    <div class="bg-pattern"></div>

    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <a href="/" class="logo">
          <div class="logo-icon">Î›</div>
          <div class="logo-text">Lottery <span>Lab</span></div>
        </a>
        <nav class="nav">
          <a href="/">{{ i18n.home if i18n.home else 'Home' }}</a>
          <a href="/methodology" class="active">{{ i18n.methodology }}</a>
          <a href="/app">{{ i18n.analyzer if i18n.analyzer else 'Analyzer' }}</a>
          <a href="/docs">{{ i18n.docs }}</a>
        </nav>
        <div class="header-actions">
          <!-- Language Switch -->
          <div class="switch-group">
            {% for supported_lang in supported_languages %}
            <a href="/set-language?lang={{ supported_lang }}" 
               class="{% if lang == supported_lang %}active{% endif %}">
              {{ supported_lang|upper }}
            </a>
            {% endfor %}
          </div>
          
          <!-- Theme Toggle -->
          <button id="theme-toggle" class="theme-toggle" title="{{ i18n.toggle_theme }}" aria-label="{{ i18n.toggle_theme }}">
            <span class="icon-sun">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
              </svg>
            </span>
            <span class="icon-moon">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
              </svg>
            </span>
          </button>
          
          <a href="/app" class="btn btn-primary">
            {{ i18n.open_analyzer }} â†’
          </a>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main">
      <!-- Hero -->
      <section class="hero">
        <span class="hero-tag">
          <span>ğŸ”¬</span>
          {{ i18n.meth_scientific_approach }}
        </span>
        <h1>{{ i18n.meth_title }}</h1>
        <p>{{ i18n.meth_subtitle }}</p>
      </section>

      <!-- Quick Stats -->
      <div class="quick-stats">
        <div class="quick-stat">
          <div class="quick-stat-value">6</div>
          <div class="quick-stat-label">{{ i18n.meth_stat_methods }}</div>
        </div>
        <div class="quick-stat">
          <div class="quick-stat-value">Î± = 0.05</div>
          <div class="quick-stat-label">{{ i18n.meth_significance_level }}</div>
        </div>
        <div class="quick-stat">
          <div class="quick-stat-value">{{ stats.years }} {{ i18n.years }}</div>
          <div class="quick-stat-label">{{ i18n.meth_historical_data }}</div>
        </div>
      </div>

      <!-- Hypothesis Box -->
      <div class="hypothesis-box">
        <div class="hypothesis-label">{{ i18n.meth_null_hypothesis }}</div>
        <p class="hypothesis-text">
          "{{ i18n.meth_h0_text_1 }} <em>{{ i18n.meth_h0_highlight_1 }}</em> {{ i18n.meth_h0_text_2 }} <em>{{ i18n.meth_h0_highlight_2 }}</em> â€” 
          {{ i18n.meth_h0_text_3 }}"
        </p>
        <p class="hypothesis-desc">{{ i18n.meth_h0_desc }}</p>
      </div>

      <!-- Methods Section -->
      <section>
        <div class="section-header">
          <h2 class="section-title">{{ i18n.meth_methods_title }}</h2>
          <p class="section-subtitle">{{ i18n.meth_methods_subtitle }}</p>
        </div>

        <div class="methods-grid">
          <!-- Chi-square -->
          <a href="/methodology/chi-square" class="method-card">
            <div class="method-header">
              <div class="method-icon purple">ğŸ“Š</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>8 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_chi_title }}</h3>
            <p class="method-question">"{{ i18n.meth_chi_question }}"</p>
            <p class="method-desc">{{ i18n.meth_chi_desc }}</p>
            <div class="method-formula">Ï‡Â² = Î£ (O - E)Â² / E</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">p = 0.52 {{ i18n.meth_for_lotto }}</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>

          <!-- Kolmogorov-Smirnov -->
          <a href="/methodology/kolmogorov-smirnov" class="method-card">
            <div class="method-header">
              <div class="method-icon blue">ğŸ“ˆ</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>10 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_ks_title }}</h3>
            <p class="method-question">"{{ i18n.meth_ks_question }}"</p>
            <p class="method-desc">{{ i18n.meth_ks_desc }}</p>
            <div class="method-formula">D = max |Fâ‚™(x) - F(x)|</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">p = 0.78 {{ i18n.meth_for_lotto }}</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>

          <!-- Runs Test -->
          <a href="/methodology/runs-test" class="method-card">
            <div class="method-header">
              <div class="method-icon cyan">ğŸ”„</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>7 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_runs_title }}</h3>
            <p class="method-question">"{{ i18n.meth_runs_question }}"</p>
            <p class="method-desc">{{ i18n.meth_runs_desc }}</p>
            <div class="method-formula">Z = (R - Î¼áµ£) / Ïƒáµ£</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">p = 0.41 {{ i18n.meth_for_lotto }}</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>

          <!-- Autocorrelation -->
          <a href="/methodology/autocorrelation" class="method-card">
            <div class="method-header">
              <div class="method-icon green">â±ï¸</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>6 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_autocorr_title }}</h3>
            <p class="method-question">"{{ i18n.meth_autocorr_question }}"</p>
            <p class="method-desc">{{ i18n.meth_autocorr_desc }}</p>
            <div class="method-formula">râ‚– = Î£(xáµ¢ - Î¼)(xáµ¢â‚Šâ‚– - Î¼) / Î£(xáµ¢ - Î¼)Â²</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">{{ i18n.meth_no_significant_lags }}</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>

          <!-- Shannon Entropy -->
          <a href="/methodology/entropy" class="method-card">
            <div class="method-header">
              <div class="method-icon amber">ğŸ²</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>5 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_entropy_title }}</h3>
            <p class="method-question">"{{ i18n.meth_entropy_question }}"</p>
            <p class="method-desc">{{ i18n.meth_entropy_desc }}</p>
            <div class="method-formula">H = -Î£ p(x) Â· logâ‚‚ p(x)</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">H = 5.58 / 5.61 (99.5%)</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>

          <!-- Monte Carlo -->
          <a href="/methodology/monte-carlo" class="method-card">
            <div class="method-header">
              <div class="method-icon rose">ğŸ°</div>
              <div class="method-badge">
                <span>ğŸ“–</span>
                <span>12 min</span>
              </div>
            </div>
            <h3 class="method-title">{{ i18n.meth_monte_title }}</h3>
            <p class="method-question">"{{ i18n.meth_monte_question }}"</p>
            <p class="method-desc">{{ i18n.meth_monte_desc }}</p>
            <div class="method-formula">{{ i18n.meth_monte_formula }}</div>
            <div class="method-footer">
              <div class="method-result">
                <div class="method-result-dot green"></div>
                <span class="method-result-text">{{ i18n.meth_data_in_ci }}</span>
              </div>
              <span class="method-link">{{ i18n.meth_read_more }} â†’</span>
            </div>
          </a>
        </div>
      </section>

      <!-- Workflow -->
      <div class="workflow">
        <h3 class="workflow-title">{{ i18n.meth_workflow_title }}</h3>
        <div class="workflow-steps">
          <div class="workflow-step">
            <div class="workflow-step-icon">ğŸ“¥</div>
            <h4 class="workflow-step-title">1. {{ i18n.meth_step1 }}</h4>
            <p class="workflow-step-desc">{{ i18n.meth_step1_desc }}</p>
          </div>
          <div class="workflow-step">
            <div class="workflow-step-icon">ğŸ§¹</div>
            <h4 class="workflow-step-title">2. {{ i18n.meth_step2 }}</h4>
            <p class="workflow-step-desc">{{ i18n.meth_step2_desc }}</p>
          </div>
          <div class="workflow-step active">
            <div class="workflow-step-icon">ğŸ§ª</div>
            <h4 class="workflow-step-title">3. {{ i18n.meth_step3 }}</h4>
            <p class="workflow-step-desc">{{ i18n.meth_step3_desc }}</p>
          </div>
          <div class="workflow-step">
            <div class="workflow-step-icon">ğŸ“Š</div>
            <h4 class="workflow-step-title">4. {{ i18n.meth_step4 }}</h4>
            <p class="workflow-step-desc">{{ i18n.meth_step4_desc }}</p>
          </div>
        </div>
      </div>

      <!-- Lottery Support -->
      <section class="lottery-support">
        <div class="section-header">
          <h2 class="section-title">{{ i18n.meth_lotteries_title }}</h2>
          <p class="section-subtitle">{{ i18n.meth_lotteries_subtitle }}</p>
        </div>

        <div class="lottery-grid">
          <div class="lottery-card">
            <div class="lottery-flag">ğŸ‡µğŸ‡±</div>
            <div class="lottery-name">Lotto</div>
            <div class="lottery-format">6/49</div>
            <span class="lottery-status active">{{ i18n.meth_status_active }}</span>
          </div>
          <div class="lottery-card">
            <div class="lottery-flag">ğŸ‡µğŸ‡±</div>
            <div class="lottery-name">Lotto Plus</div>
            <div class="lottery-format">6/49</div>
            <span class="lottery-status active">{{ i18n.meth_status_active }}</span>
          </div>
          <div class="lottery-card">
            <div class="lottery-flag">ğŸ‡µğŸ‡±</div>
            <div class="lottery-name">Mini Lotto</div>
            <div class="lottery-format">5/42</div>
            <span class="lottery-status soon">{{ i18n.meth_status_soon }}</span>
          </div>
          <div class="lottery-card">
            <div class="lottery-flag">ğŸ‡ªğŸ‡º</div>
            <div class="lottery-name">Eurojackpot</div>
            <div class="lottery-format">5/50 + 2/12</div>
            <span class="lottery-status soon">{{ i18n.meth_status_soon }}</span>
          </div>
          <div class="lottery-card coming-soon">
            <div class="lottery-flag">ğŸ‡¬ğŸ‡§</div>
            <div class="lottery-name">UK Lotto</div>
            <div class="lottery-format">6/59</div>
            <span class="lottery-status soon">{{ i18n.meth_status_planned }}</span>
          </div>
          <div class="lottery-card coming-soon">
            <div class="lottery-flag">ğŸ‡ºğŸ‡¸</div>
            <div class="lottery-name">Powerball</div>
            <div class="lottery-format">5/69 + 1/26</div>
            <span class="lottery-status soon">{{ i18n.meth_status_planned }}</span>
          </div>
          <div class="lottery-card coming-soon">
            <div class="lottery-flag">ğŸ‡ºğŸ‡¸</div>
            <div class="lottery-name">Mega Millions</div>
            <div class="lottery-format">5/70 + 1/25</div>
            <span class="lottery-status soon">{{ i18n.meth_status_planned }}</span>
          </div>
          <div class="lottery-card coming-soon">
            <div class="lottery-flag">ğŸ‡ªğŸ‡º</div>
            <div class="lottery-name">EuroMillions</div>
            <div class="lottery-format">5/50 + 2/12</div>
            <span class="lottery-status soon">{{ i18n.meth_status_planned }}</span>
          </div>
        </div>
      </section>

      <!-- CTA -->
      <section class="cta-section">
        <h3 class="cta-title">{{ i18n.meth_cta_title }}</h3>
        <p class="cta-desc">{{ i18n.meth_cta_desc }}</p>
        <div class="cta-buttons">
          <a href="/app" class="btn btn-primary">
            ğŸ”¬ {{ i18n.open_analyzer }}
          </a>
          <a href="/methodology/chi-square" class="btn btn-ghost">
            ğŸ“– {{ i18n.meth_start_basics }}
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <p class="footer-text">
          Â© 2025 Lottery Lab â€” {{ i18n.footer_tagline }}
        </p>
        <div class="footer-links">
          <a href="https://github.com/bartoszclapinski/LotteryLAB" target="_blank" rel="noopener">GitHub</a>
          <a href="/docs">{{ i18n.docs }}</a>
          <a href="/">{{ i18n.home if i18n.home else 'Home' }}</a>
        </div>
      </div>
    </footer>
  </body>
</html>

